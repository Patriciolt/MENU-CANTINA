:root{
  --azul:#1f3f5e;
  --rojo:#c3382f;
  --texto:#101820;
  --fondo:#f4f6f9;

  --safe: clamp(14px, 2.2vw, 34px);
  --radius: 30px;
  --sombra: 0 22px 70px rgba(0,0,0,.22);

  --wm-op: .62;
  --pattern-op: .13;

  --accent: var(--rojo);
  --accent2: var(--azul);

  --sidebarW: clamp(260px, 19vw, 320px);

  /* ✅ QRs un poco más chicos para que respiren */
  --qrSize: clamp(96px, 9.4vh, 140px);
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--texto);
  background:var(--fondo);
  overflow:hidden;
}

/* Fondo */
.tv-bg{
  position:fixed; inset:0;
  background: linear-gradient(180deg, #ffffff 0%, var(--fondo) 55%, #ffffff 100%);
  z-index:0;
}
.tv-anim-gradient{
  position:absolute; inset:-20%;
  background:
    radial-gradient(1100px 700px at 12% 10%, rgba(31,63,94,.18), transparent 60%),
    radial-gradient(1000px 700px at 88% 18%, rgba(195,56,47,.16), transparent 62%),
    radial-gradient(900px 700px at 50% 92%, rgba(31,63,94,.10), transparent 65%);
  filter: blur(12px);
  animation: drift 14s ease-in-out infinite;
}
@keyframes drift{
  0%{ transform: translate(-1.5%, -1%); }
  50%{ transform: translate(1.5%, 1%); }
  100%{ transform: translate(-1.5%, -1%); }
}

.tv-logo-pattern{
  position:absolute; inset:0;
  background-image:url("/img/logo.png");
  background-repeat: repeat;
  background-size: 240px;
  opacity: var(--pattern-op);
  transform: rotate(-10deg);
  filter: saturate(1.10) contrast(1.06);
  mix-blend-mode: multiply;
}
.tv-vignette{
  position:absolute; inset:0;
  background: radial-gradient(1100px 600px at 50% 45%, rgba(255,255,255,.0), rgba(255,255,255,.7) 70%, rgba(255,255,255,.92) 100%);
}

/* Header */
.tv-header{
  position:relative;
  z-index:1;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 18px var(--safe);
}
.brand{
  display:flex;
  align-items:center;
  gap:16px;
}
.brand-logo{
  width:58px;
  height:58px;
  object-fit:contain;
}
.brand-title{
  font-weight:900;
  letter-spacing:.02em;
  font-size: 34px;
}
.brand-sub{
  font-weight:700;
  letter-spacing:.28em;
  opacity:.75;
  margin-top:4px;
  font-size: 12px;
}

.top-right{
  display:flex;
  align-items:center;
  gap: 14px;
}
.pill{
  padding: 10px 16px;
  border-radius: 18px;
  background: rgba(255,255,255,.85);
  box-shadow: 0 10px 30px rgba(0,0,0,.08);
  font-weight:800;
  border: 1px solid rgba(0,0,0,.06);
  white-space:nowrap;
}
.time{
  padding: 10px 18px;
  border-radius: 18px;
  background: rgba(255,255,255,.90);
  box-shadow: 0 10px 30px rgba(0,0,0,.08);
  font-weight: 900;
  font-size: 28px;
  border: 1px solid rgba(0,0,0,.06);
  min-width: 100px;
  text-align:center;
}

/* Layout principal */
.tv-main{
  position:relative;
  z-index:1;
  display:grid;
  grid-template-columns: 1fr var(--sidebarW);
  gap: 22px;
  padding: 0 var(--safe) 18px;
  height: calc(100% - 98px);
  align-items: start;
}
.tv-card{
  background: rgba(255,255,255,.78);
  border-radius: var(--radius);
  box-shadow: var(--sombra);
  overflow:hidden;
  display:grid;
  grid-template-columns: 1.05fr .95fr;
  min-height: 74vh;
}
.tv-card-left{
  position:relative;
  background: rgba(0,0,0,.02);
}
.tv-card-right{
  background: rgba(255,255,255,.88);
  padding: 32px 34px;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
}

.promo-pill{
  position:absolute;
  top: 18px;
  left: 18px;
  display:inline-flex;
  align-items:center;
  gap: 10px;
  padding: 10px 14px;
  border-radius: 999px;
  background: rgba(195,56,47,.94);
  color:white;
  box-shadow: 0 12px 30px rgba(195,56,47,.25);
  font-weight: 900;
  letter-spacing:.02em;
}
.pill-emoji{ font-size: 14px; }
.off-badge{
  display:none !important; /* ✅ nunca mostrar porcentaje */
  margin-left: 6px;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.16);
  border: 1px solid rgba(255,255,255,.24);
  font-weight: 900;
}

.promo-image-wrap{
  position:absolute;
  inset:0;
  overflow:hidden;
}

/* ✅ Crossfade */
.promo-img{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit: cover;
  opacity:0;
  transition: opacity 480ms ease-in-out;
  transform: scale(1.01);
}
.promo-img.is-active{
  opacity:1;
}

.image-sheen{
  position:absolute;
  inset:0;
  background: radial-gradient(800px 380px at 65% 40%, rgba(255,255,255,.30), rgba(255,255,255,0) 55%);
  mix-blend-mode: overlay;
  pointer-events:none;
}

/* Progreso */
.progress-wrap{
  position:absolute;
  left: 18px;
  right: 18px;
  bottom: 14px;
  height: 6px;
  border-radius: 999px;
  background: rgba(0,0,0,.08);
  overflow:hidden;
}
.progress{
  height:100%;
  width:0%;
  background: linear-gradient(90deg, var(--rojo), var(--azul));
  border-radius: 999px;
  transition: width 90ms linear;
}

/* Texto promo */
.promo-title{
  font-size: 66px;
  line-height: .95;
  font-weight: 1000;
  letter-spacing:.01em;
  margin: 0 0 12px 0;
}
.promo-desc{
  font-size: 22px;
  opacity:.86;
  margin-bottom: 18px;
  min-height: 32px;
}
.price-row{
  margin-top: 4px;
  display:flex;
  flex-direction:column;
  gap: 10px;
  align-items:flex-start;
}
.old-price{
  font-weight: 900;
  font-size: 28px;
  text-decoration: line-through;
  opacity:.55;
}
.price-chip{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding: 12px 22px;
  border-radius: 999px;
  background: rgba(255,255,255,.92);
  border: 2px solid rgba(195,56,47,.35);
  color: var(--rojo);
  font-weight: 1000;
  font-size: 54px;
  letter-spacing:.01em;

  /* ✅ sin “micro brillo” */
  box-shadow: 0 10px 22px rgba(195,56,47,.14);
}

.status{
  margin-top: 14px;
  font-size: 14px;
  font-weight: 800;
  opacity: .75;
}

/* Sidebar QRs */
.tv-side{
  display:flex;
  flex-direction:column;
  gap: 18px;
  padding-right: 6px;
}
.qr-block{
  background: rgba(255,255,255,.74);
  border-radius: 22px;
  box-shadow: 0 18px 52px rgba(0,0,0,.10);
  border: 1px solid rgba(0,0,0,.05);
  padding: 16px 16px 14px;
  display:flex;
  flex-direction:column;
  align-items:center;
  text-align:center;
  gap: 10px;
}
.qr-title{
  display:flex;
  align-items:center;
  justify-content:center;
  gap: 10px;
  font-weight: 1000;
  letter-spacing:.12em;
  font-size: 12px;
  opacity:.86;
}
.qr-icon{
  width: 16px;
  height: 16px;
  object-fit:contain;
  opacity:.95;
}
.qr{
  width: var(--qrSize);
  height: var(--qrSize);
  image-rendering: pixelated;
  border-radius: 12px;
  background: transparent;
}
.qr-sub{
  font-weight: 900;
  font-size: 12px;
  opacity:.75;
}
